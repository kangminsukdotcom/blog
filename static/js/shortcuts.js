const focusableSelector='a[href],button:not([disabled]),input:not([disabled]):not([type="hidden"]),select:not([disabled]),textarea:not([disabled]),summary,[tabindex="0"]';let fE=[];function iFE(){fE=Array.from(document.querySelectorAll(focusableSelector)).filter(e=>{if(e.closest("nav"))return!1;const t=e.closest("details");return!t||"summary"===e.tagName.toLowerCase()||t.open})}function mF(e){if(!fE.length)return;let t=fE.indexOf(document.activeElement);-1===t&&(t=e>0?-1:0);let n=t+e;n<0?n=fE.length-1:n>=fE.length&&(n=0),fE[n].focus()}document.addEventListener("DOMContentLoaded",()=>{iFE(),document.querySelectorAll("details").forEach(e=>{e.addEventListener("toggle",iFE)})}),document.addEventListener("keydown",function(e){if(e.target.matches("input, textarea, select")||e.target.isContentEditable)return;const t=e.key.toLowerCase(),n=window.location.pathname.replace(/\/+$/,"");switch(t){case"h":case"ㅗ":e.preventDefault(),window.location.href="/";break;case"w":case"ㅈ":e.preventDefault(),window.location.href="/blog/";break;case"k":case"ㅏ":e.preventDefault(),n.startsWith("/ko")||(window.location.href="/ko"+n);break;case"e":case"ㄷ":if(e.preventDefault(),n.startsWith("/ko")){const r=n.replace(/^\/ko/,"");window.location.href=""===r?"/":r}break;case"arrowleft":e.preventDefault();const r=document.querySelector(".prev-post");r&&r.href&&(window.location.href=r.href);break;case"arrowright":e.preventDefault();const o=document.querySelector(".next-post");o&&o.href&&(window.location.href=o.href);break;case"arrowdown":e.preventDefault(),window.scrollBy(0,100);break;case"arrowup":e.preventDefault(),window.scrollBy(0,-100);break;case"n":case"ㅜ":e.preventDefault(),mF(e.shiftKey?-1:1);break;case"escape":e.preventDefault(),document.activeElement&&document.activeElement.blur&&document.activeElement.blur()}})